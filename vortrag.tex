%!TEX TS-program = pdflatex
%!BIB program = biber
\documentclass[
wide,
% handout,
10pt,
xcolor={x11names,svgnames},
hyperref={pdfauthor={Jannes Bantje},colorlinks,urlcolor=maincolor,hidelinks=false,linkcolor=maincolor},
pantone312, 	% WWU-Design in hellblau
%pantone396, 	% WWU-Design in grellem hellgrün
%pantone315, 	% WWU-Design in dunkelblau
%pantone3282, 	% WWU-Design in "blau"
%pantone390, 	% WWU-Design in
%pantone369,	% WWU-Design in gras-grün
%pantoneblack7, % WWU-Design in dunklem gras-grün
%handout% aktivieren um \pause für Druck zu ignorieren (keine neue Seite für einen neuen Punkt)
]{beamer}
\usepackage{etex}
% \usepackage{xxcolor}
% \definecolor{pantone312}{RGB}{0,157,209}
% \definecolor{maincolor}{named}{pantone312}
\usefonttheme[onlymath]{serif}
\usepackage{newpxtext}
% \usepackage{palatino}
\usepackage[bigdelims,varbb,varg]{newpxmath}
\usepackage{wwustyle2}

\usepackage[ngerman]{babel}
\usepackage{multirow}
\usepackage{xspace}

% -- Aufzählungen, Anführungszeichen etc.
% \usepackage[shortlabels,inline]{enumitem}
% % \setlist[itemize,1]{label=\faCaretRight}
% \setlist[enumerate]{font=\bfseries}
% \setlist{itemsep=0pt}
\usepackage[autostyle,german=quotes]{csquotes}

% \usepackage{array}

\AtBeginSection[]{
  \begin{frame}
  \vfill
  \centering
  \begin{beamercolorbox}[sep=8pt,center,shadow=true,rounded=true]{title}
    \usebeamerfont{title}\insertsectionhead\par%
  \end{beamercolorbox}
  \vfill
  \end{frame}
}


%-- um Inkompatibilitaeten von quotes und polyglossia bzw. babel zu vermeiden
\usepackage{tikz}
\usetikzlibrary{calc,fadings,decorations.pathreplacing}

\tikzset{
  every picture/.append style={
    execute at begin picture={\shorthandoff{"}},
    execute at end picture={\shorthandon{"}}
  }
}
\usetikzlibrary{quotes}


\usepackage{mathtools} % beinhaltet amsmath
\usepackage{amssymb} % zusätzliche Symbole
% \usepackage{stmaryrd} % für Blitz
\usepackage{nicefrac} % schräge Brüche
\usepackage{faktor}
\newcommand{\Faktor}[1]{\faktor[\textstyle]{#1}}
\usepackage{xfrac}
\usepackage{cancel}
\usepackage{mathdots} % Verbesserung von Punkten wie zB \ldots
\usepackage[bb=px]{mathalfa}
\usepackage{centernot}


\usepackage{cleveref}

\newcommand{\Index}[1]{\bet{#1}}



\hypersetup{pdfstartview={Fit}}

\makeatletter
\renewcommand{\LaTeX}{L\kern -.22em{\sbox \z@ T\vbox to\ht \z@ {\hbox {\check@mathfonts \fontsize \sf@size \z@ \math@fontsfalse \selectfont A}\vss }}\kern -.10em\TeX}
\makeatother

\usepackage{multicol}


\newcommand{\bet}[1]{\textbf{\color{maincolor}#1}}
\newcommand{\keyword}[1]{{\color{pantone369}#1}}
\newcommand{\keyWWU}{\keyword{WWU Münster}\xspace}

\input{math.tex}

% -- theorem packages
\usepackage{amsthm}
% \theoremstyle{definition}
% \setbeamertemplate{theorems}[normal font]
\setbeamertemplate{theorems}[numbered]
\setbeamertemplate{definitions}[numbered]
% \renewtheorem{definition}{Definition}
\newtheorem{satz}{Satz}
\newtheorem{proposition}{Proposition}
\theoremstyle{definition}
\newtheorem{definitionP}{Definition \& Proposition}
% \theoremstyle{remark}
% \newtheorem{beweis}{Beweis}
\newenvironment{beweis}{\textsc{Beweis:}}{\qed}
\newenvironment{beweisX}{\textsc{Beweis:}}{}
\newenvironment{beweisCont}{\textsc{Beweis}(fortgesetzt):}{\qed}

% -- BibLaTeX
\usepackage[%
	backend=biber,
	sortlocale=auto,
	natbib,
	hyperref,
	backref,
	style=alphabetic,
	]%
{biblatex}
\renewcommand*{\mkbibnamefamily}[1]{%
  \ifmknamesc{\textsc{#1}}{#1}}

\renewcommand*{\mkbibnameprefix}[1]{%
  \ifboolexpr{ test {\ifmknamesc} and test {\ifuseprefix} }
    {\textsc{#1}}
    {#1}}

\def\ifmknamesc{%
  \ifboolexpr{ test {\ifcurrentname{labelname}}
               or test {\ifcurrentname{author}}
               or ( test {\ifnameundef{author}} and test {\ifcurrentname{editor}} ) }}
\addbibresource{quellen.bib}
\DefineBibliographyStrings{ngerman}{%
  andothers = {et\addabbrvspace al\adddot}
}
\setbeamertemplate{bibliography item}[text]


%-- Farben

\definecolor{blue3}{RGB}{27,53,62}
\definecolor{blue2}{RGB}{49,81,95}
\definecolor{blue1}{RGB}{84,113,121}
\definecolor{blueS}{RGB}{27,53,62}
\definecolor{teal3}{RGB}{34,107,96}
\definecolor{teal2}{RGB}{49,142,133}
\definecolor{teal1}{RGB}{77,165,154}
\definecolor{tealS}{RGB}{179,198,189}
\definecolor{red3}{RGB}{126,27,48}
\definecolor{red2}{RGB}{158,48,68}
\definecolor{red1}{RGB}{173,73,95}
\definecolor{redS}{RGB}{219,179,180}


\begin{document}
\makeatletter
\author{Jannes Bantje} \let\Author\@author
\title{Gruppierung von Trajektorien}
\subtitle{Seminar zur algorithmischen Geometrie}
\makeatother


\begin{frame}[plain]
  \maketitle
\end{frame}

\section{Einleitung}
\begin{frame}{Einleitung/Warum ist das interessant?}
    \begin{block}{Problemstellung}
        Gegeben eine Menge von $n$ Entitäten, die sich entlang gegebener Trajektorien bewegen, welche davon bewegen sich \enquote{zusammen}/in einer \enquote{Gruppe}?
    \end{block}
    Zahlreiche mögliche Anwendungsgebiete:
    \begin{itemize}
        \item Bewegungen von Tieren in der Verhaltensbiologie (Herden und Rudel)
        \item Analyse von Verkehrsteilnehmern (z.B. zur Stau)
    \end{itemize}
    Bearbeitung der Problemstellung:
    \begin{enumerate}
        \item Überführe menschliche Intuition einer kollektiven Bewegung in eine mathematische Definition
        \item Finde einen Weg, die so definierten \enquote{Gruppen} effektiv zu berechnen
    \end{enumerate}
\end{frame}

\begin{frame}{Ziel dieses Vortrags}
    \begin{center}
        \texttt{<Video hier>}
    \end{center}
\end{frame}

\begin{frame}{Tracectory Grouping Structure nach \textcite{buchin2015}}
    \begin{block}{Problemstellung}
        Gegeben eine Menge von $n$ Entitäten, die sich entlang gegebener Trajektorien bewegen, welche davon bewegen sich \enquote{zusammen}/in einer \enquote{Gruppe}?
    \end{block}
    Die \bet{Trajectory Grouping Structure} nach \textcite{buchin2015} zeichnet folgendes aus
    \begin{itemize}
        \item Intuitive Definition einer Gruppe von Trajektorien
        \item Neben der Identifikation von Gruppen wird auch das \enquote{Leben} von Gruppen betrachtet (Start, End, Merge und Split)
        \item Das Modell erfasst diese Änderungen der Gruppen zu kontinuierlichen Zeitpunkten
        \item Diese Struktur lässt sich effizient berechnen
        \item Gruppierung kann auf unterschiedlichen Maßstäben untersucht werden
        \item Das Modell kann robust gegenüber Störungen gemacht werden
    \end{itemize}
\end{frame}

\begin{frame}{Running Example: Skatenight in Münster}
    \begin{itemize}
        \item Der gesamte Zug (2500--3000 Personen) ist eine kollektive Bewegung
        \item Gruppierung lässt sich aber auch auf kleinerem Maßstab betrachten
    \end{itemize}
\end{frame}

\section{Definition einer Gruppe}

\begin{frame}{Was zeichnet eine kollektive Bewegung aus?}
    \begin{tabular}{rp{8cm}c}
        \bet{Räumliche Nähe} & Die einzelnen Entitäten dürfen nicht zu weit voneinander entfernt sein & $\varepsilon>0$\\
        \bet{Mindestgröße} & In den meisten Anwendungsfällen sollten einzelne Entitäten keine Gruppe bilden & $m \in \mathbb{N}$ \\
        \bet{Dauer} & eine kurze Begegnung von Entitäten sollte keine gemeinsame Bewegung sein & $\delta \ge 0$ \\
    \end{tabular}
    \vspace{1em}
    
    % \begin{description}
    %     \item[Räumliche Nähe] Die einzelnen Entitäten dürfen nicht zu weit voneinander entfernt sein
    %     \item[Mindestgröße]
    %     \item[Dauer] eine kurze Begegnung von Entitäten sollte keine gemeinsame Bewegung sein
    % \end{description}
    Variation der Parameter ermöglicht:
    \begin{itemize}
        \item Betonen bestimmter Aspekte (z.B. nur lange bestehende Gruppen durch großes $\delta$)
        \item Steuerung des Detailgrades, d.h. der Anzahl der Gruppen
    \end{itemize}
\end{frame}

\begin{frame}[t]{Zusammenhang}
    Sei $\mathcal{X}$ eine Menge von Entitäten, deren Ort innerhalb eines gewissen Zeitraums bekannt ist.\pause
    \begin{definition}<2->
        Zwei Entitäten $x$ und $y$ sind zum Zeitpunkt $t$ \bet{direkt zusammenhängend}, falls sich ihre $\varepsilon$-Bälle überlappen.
        
        $x$ und $y$ heißen \bet{$\varepsilon$-zusammenhängend} zum Zeitpunkt $t$, falls eine Folge von Entitäten $x=x_0, \ldots,x_k=y$ existiert, sodass $x_i$ und $x_{i+1}$ direkt zusammenhängend sind.
    \end{definition}
    \begin{columns}[c]
        \column{.65\textwidth}
        \begin{itemize}
            \item<3-> $\mathcal{S} \subseteq \mathcal{X}$ heißt \bet{Komponente} zum Zeitpunkt $t$, falls $S$ maximale $\varepsilon$-zusammenhängende Teilmenge ist.
            \item<4-> Mit $\mathcal{C}(t)$ bezeichnen wir die Menge der Komponenten zum Zeitpunkt $t$.
        \end{itemize}
        \column{.35\textwidth}
        \begin{tikzpicture}[scale=1.2]
			% \draw[help lines] (-1,-1) grid (2,2);
			\coordinate (1) at (0,-0.02);
			\coordinate (2) at (.05,.4);
			\coordinate (3) at (.5,.2);
			\coordinate (4) at (.85,-.08);
			\coordinate (5) at (1.45,-.04);
			\coordinate (6) at (-0.7,.3);
			\coordinate (7) at (2.1,.3);
			\coordinate (8) at (2.05,1);
			\coordinate (9) at (0.2,1.1);
			\coordinate (10) at (.9,-.65);
			\coordinate (11) at (2.2,.6);
			\coordinate (12) at (-.3,1);
			\coordinate (13) at (-.8,.9);
			\coordinate (14) at (-1.1,.5);
            \foreach \x in {1,2,...,14}{
				\draw[white,fill=white,fill opacity=.35,very thick] (\x) circle[radius=.4];
				% \draw[fill,very thick] (\x) circle[radius=.02];
			}
			\only<5>{\foreach \x in {1,2,...,14}{
				\draw[DodgerBlue3,fill=DodgerBlue3,fill opacity=.35,very thick] (\x) circle[radius=.4];
				\draw[fill,very thick] (\x) circle[radius=.02];
			}}
            \only<6>{
            \foreach \x in {1,2,...,5,10}{
				\draw[DodgerBlue3,fill=DodgerBlue3,fill opacity=.35,very thick] (\x) circle[radius=.3];
				\draw[fill,very thick] (\x) circle[radius=.02];
			}
			\foreach \x in {6,9,12,13,14}{
				\draw[Firebrick2,fill=Firebrick2,fill opacity=.35,very thick] (\x) circle[radius=.3];
				\draw[fill,very thick] (\x) circle[radius=.02];
			}
			\foreach \x in {7,8,11}{
				\draw[SeaGreen3,fill=SeaGreen3,fill opacity=.35,very thick] (\x) circle[radius=.3];
				\draw[fill,very thick] (\x) circle[radius=.02];
			}}
		\end{tikzpicture}
    \end{columns}
\end{frame}

\begin{frame}{Gruppen}
    \begin{definition}[Gruppe]
    	Eine Menge $G$ von $k$ Entitäten bildet eine \Index{Gruppe} im Zeitintervall $I$, falls gilt:
    	\begin{enumerate}[(i)]
    		\item $G$ enthält mindestens $m$ Entitäten, also $k \ge m$,
    		\item die Länge von $I$ ist mindestens $\delta$ und
    		\item zu jeder Zeit $t \in I$ existiert eine Komponente $C \in \mathcal{C}(t)$ mit $G \subseteq C$.
    	\end{enumerate}
    	Das Intervall $I=[t_s,t_e]$ der Gruppe $G$ bezeichnen wir auch mit $I_G$.
    	Eine Gruppe $H$ \bet{überlagert} $G$, falls $G \subseteq H$ und $I_G \subseteq I_H$ gilt.
    	Falls kein solches $H$ existiert, so heißt $G$ \bet{maximal}.
    \end{definition}\pause
    Es liegen folgende Monotonieeigenschaften vor:\pause
    \begin{itemize}[<+->]
        \item Verringern von $m$ und $\delta$: bestehende Gruppen bleiben erhalten und maximale Gruppen bleiben maximal.
        \item Vergrößern von $\varepsilon$: 
        Gruppen bleiben erhalten, sind aber ggf. in größeren enthalten
        \item[$\Rightarrow$] detaillierte Sicht erhält maximale Gruppen, diese dehnen sich ggf. in Größe und Dauer aus
    \end{itemize}
\end{frame}

\begin{frame}{Beispiel maximaler Gruppen}
    \begin{center}
        \begin{tikzpicture}[scale=1.3]
    		% Zeitpunkte definieren
    		\coordinate (t_0) at (0,0);
    		\coordinate (t_1) at (2,0);
    		\coordinate (t_2) at (3.2,0);
    		\coordinate (t_3) at (4.5,0);
    		\coordinate (t_4) at (5.7,0);
    		\coordinate (t_5) at (6.2,0);
    		
    		\draw[gray,very thick] ($(t_0) - (.2,0)$) -- ($(t_5) + (.2,0)$);
    		\foreach \x in {t_0,t_1,t_2,t_3,t_4,t_5}{
    			\draw[gray, thick] ($(\x) + (0,.1)$) -- ($(\x)- (0,.1)$) node[below]{$\x$};
    		}
    		
    		% Trajektorien
    		\coordinate (0x_1) at ($(t_0) + (0,3)$);
    		\coordinate (1x_1) at ($(t_1) + (0,2.7)$);
    		\coordinate (2x_1) at ($(t_2) + (0,2.9)$);
    		\coordinate (3x_1) at ($(t_3) + (0,2.85)$);
    		\coordinate (4x_1) at ($(t_4) + (0,3.7)$);
    		\coordinate (5x_1) at ($(t_5) + (0,3.4)$);
    		               
    		\coordinate (0x_2) at ($(t_0) + (0,2.8)$);
    		\coordinate (1x_2) at ($(t_1) + (0,2.6)$);
    		\coordinate (2x_2) at ($(t_2) + (0,2.8)$);
    		\coordinate (3x_2) at ($(t_3) + (0,2.77)$);
    		\coordinate (4x_2) at ($(t_4) + (0,2.35)$);
    		\coordinate (5x_2) at ($(t_5) + (0,2.4)$);
    		               
    		\coordinate (0x_3) at ($(t_0) + (0,.8)$);
    		\coordinate (1x_3) at ($(t_1) + (0,1)$);
    		\coordinate (2x_3) at ($(t_2) + (0,2.7)$);
    		\coordinate (3x_3) at ($(t_3) + (0,2.68)$);
    		\coordinate (4x_3) at ($(t_4) + (0,2.2)$);
    		\coordinate (5x_3) at ($(t_5) + (0,2.35)$);
    		               
    		\coordinate (0x_4) at ($(t_0) + (0,.65)$);
    		\coordinate (1x_4) at ($(t_1) + (0,.9)$);
    		\coordinate (2x_4) at ($(t_2) + (0,1.3)$);
    		\coordinate (3x_4) at ($(t_3) + (0,.4)$);
    		\coordinate (4x_4) at ($(t_4) + (0,2.05)$);
    		\coordinate (5x_4) at ($(t_5) + (0,2.28)$);
    		
    		\foreach \x/\y in {x_1/DodgerBlue3,x_2/Firebrick2,x_3/SeaGreen3,x_4/Sienna2}{
    			\draw[very thick,\y] (0\x) node[left=1.4ex]{$\x$} -- (1\x) -- (2\x) -- (3\x) -- (4\x) -- (5\x);
    		}
    		
    		% epsilon-discs
    		\foreach \x in {x_1,x_2,x_3,x_4}{
    			\foreach \n in {0,1,...,5}{
    				\draw[darkgray,fill=gray,fill opacity=.2] (\n\x) circle[radius=.107];
    			}
    		}
    	\end{tikzpicture}
    \end{center}
    Maximalen Gruppen:\pause
    $\set*{x_1,x_2}$ während $[t_0,t_3]$,\pause
    $\set*{x_1,x_2,x_3}$ während $[t_2,t_3]$,\pause
    $\set*{x_2,x_3}$ während $[t_2,t_5]$,\pause
    $\set*{x_3,x_4}$ während $[t_0,t_1]$\pause
    und $\set*{x_2,x_3,x_4}$ während $[t_4,t_5]$.
    % Hier wurde $m=2$ und $\delta < \abs*{t_5 - t_4}$ gewählt.
    % Wählt man stattdessen $\abs*{t_1-t_2}\ge \delta > \abs*{t_5 -t_4}$, so fällt die Gruppe $\set*{x_2,x_3,x_4}$ weg.
\end{frame}

\begin{frame}
    Weiterer Verlauf:
    \begin{itemize}
        \item Definition des \bet{Reeb-Graphen}
        \item Definition der sog. \bet{\GrpStruktur} bestehend aus der Menge der maximalen Gruppen und dem \bet{Reeb-Graphen}
        \item Komplexität der \GrpStruktur
        \item Berechnung der \GrpStruktur
    \end{itemize}
\end{frame}

\section*{Quellen}
\begin{frame}[allowframebreaks]{\secname}
	\printbibliography
\end{frame}


\end{document}
